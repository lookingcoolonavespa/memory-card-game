(this["webpackJsonpmemory-card-game"]=this["webpackJsonpmemory-card-game"]||[]).push([[0],{46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),o=c(20),s=c.n(o),a=c(11),i=c(3),l=c(2),u=function(e){return Object(l.jsxs)("div",{className:"score-field",children:[Object(l.jsx)("p",{className:"score-label",children:e.label}),Object(l.jsx)("p",{className:"score-num",children:e.score})]})},j=function(e){return Object(l.jsxs)("div",{className:"scoreboard",children:[Object(l.jsx)(u,{label:"Score",score:e.currentScore}),Object(l.jsx)(u,{label:"Best",score:e.highScore})]})},d=(c(46),function(e){var t=e.close,c=Object(r.useRef)(null),n=Object(r.useState)("-26.7px"),o=Object(i.a)(n,2),s=o[0],a=o[1];return Object(r.useEffect)((function(){if(c.current){var e=c.current.offsetWidth;a("-".concat(15*e/100-15,"px"))}}),[]),Object(r.useEffect)((function(){return window.addEventListener("click",t),function(){return window.removeEventListener("click",t)}}),[]),Object(l.jsx)("div",{className:"tooltip",ref:c,style:{top:"43px",left:s},onClick:function(e){return e.stopPropagation()},children:"Don't click on the same card twice!"})}),f=(c(47),function(e){var t=e.currentScore,c=e.highScore,n=e.isGameOver,o=Object(r.useState)(!1),s=Object(i.a)(o,2),a=s[0],u=s[1];return n?Object(l.jsx)("div",{className:"header"}):Object(l.jsxs)("div",{className:"header",children:[Object(l.jsxs)("div",{className:"tooltip-ctn",children:[Object(l.jsx)("button",{type:"button",className:"tooltip-btn",onClick:function(){return u((function(e){return!e}))},children:"?"}),a&&Object(l.jsx)(d,{close:function(){return u(!1)}})]}),Object(l.jsx)(j,{currentScore:t,highScore:c})]})}),b=(c(48),function(e){return Object(l.jsxs)("div",{className:"game-over",children:[Object(l.jsx)(j,{currentScore:e.currentScore,highScore:e.highScore}),Object(l.jsx)("button",{type:"button",onClick:e.startNewGame,children:"Try Again?"})]})}),m=c(24),O=(c(50),function(e){var t=e.imgSrc,c=e.name,n=e.onClick,o=Object(m.useSpring)((function(){return{transform:"rotateY(0)"}})),s=Object(i.a)(o,2),a=s[0],u=s[1];return Object(r.useEffect)((function(){return u.start({to:{transform:"rotateY(0)"},from:{transform:"rotateY(270deg)"}})})),Object(l.jsxs)(m.animated.div,{style:a,className:"card",onClick:function(e){var t=e.target.closest(".card");n(t.dataset.pokemon)},"data-pokemon":c,children:[Object(l.jsxs)("div",{className:"card-front",children:[Object(l.jsx)("img",{src:t,alt:c}),Object(l.jsx)("p",{children:c})]}),Object(l.jsx)("div",{className:"card-back",children:Object(l.jsx)("img",{src:"https://logos-world.net/wp-content/uploads/2020/05/Pokemon-Logo.png",alt:"pokemon logo"})})]})}),h=(c(51),function(){return Object(l.jsx)("div",{className:"loading",children:Object(l.jsxs)("div",{className:"lds-ellipsis",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})})}),v=c(73),p=[],x=new v.Pokedex;function g(e){return new Promise((function(t,c){var r=new Image;r.onload=function(){return t(r)},r.onerror=c,r.src=e.src,r.alt=e.name}))}c(71);var S=function(){var e=Object(r.useState)(1),t=Object(i.a)(e,2),c=t[0],o=t[1],s=Object(r.useState)(!0),u=Object(i.a)(s,2),j=u[0],d=u[1],m=Object(r.useState)(4),v=Object(i.a)(m,2),S=v[0],w=v[1],N=Object(r.useState)([]),k=Object(i.a)(N,2),y=k[0],E=k[1],M=Object(r.useState)([]),C=Object(i.a)(M,2),P=C[0],R=C[1],L=Object(r.useState)(0),G=Object(i.a)(L,2),T=G[0],B=G[1],Y=Object(r.useState)(0),A=Object(i.a)(Y,2),I=A[0],J=A[1],z=Object(r.useState)(!1),D=Object(i.a)(z,2),F=D[0],U=D[1];Object(r.useEffect)((function(){j&&function(e){for(var t=[],c=0;c<e;c++){var r=o(),n=x.getPokemonByName(r);t.push(n),p.push(r)}return Promise.all(t);function o(){for(var e=Math.floor(897*Math.random())+1;p.includes(e);)e=Math.floor(897*Math.random())+1;return e}}(S).then((function(e){var t=[];return e.forEach((function(e){var c;t.push({name:(c=e.name,c.charAt(0).toUpperCase()+c.slice(1)),src:e.sprites.other["official-artwork"].front_default})})),Promise.all(t.map(g))})).then((function(e){d(!1),E(e)}))}));var V=Object(r.useRef)(),W=Object(r.useRef)();function _(e){return P.includes(e)?U(!0):(R([].concat(Object(a.a)(P),[e])),I+1>T&&B(I+1),J(I+1),P.length+1===S?(o(c+1),R([]),w(S+2<=12?S+2:12),void d(!0)):void E(function(e){for(var t=[],c=0;c<e.length;c++){for(var r=Math.floor(Math.random()*e.length);t.includes(e[r]);)r=Math.floor(Math.random()*e.length);t.push(e[r])}return t}(y)))}return Object(r.useEffect)((function(){function e(){var e=window.getComputedStyle(V.current).getPropertyValue("grid-template-rows").split(" ");return e.includes("0px")&&(e=e.filter((function(e){return"0px"!==e}))),console.log(e),1===e.length?W.current.style.gridTemplateRows="0.5fr 1fr":2===e.length?W.current.style.gridTemplateRows="0.35fr 1fr":3===e.length?W.current.style.gridTemplateRows="0.2fr 1fr":void 0}V.current&&(e(),window.addEventListener("resize",e))})),Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)(f,{highScore:T,currentScore:I,isGameOver:F}),Object(l.jsxs)("main",{children:[F&&Object(l.jsx)(b,{highScore:T,currentScore:I,startNewGame:function(){o(1),w(4),R([]),J(0),p=[],console.log(p),U(!1),d(!0)}}),j&&Object(l.jsx)(h,{}),!j&&!F&&Object(l.jsxs)("div",{ref:W,className:"game-ctn",children:[Object(l.jsxs)("div",{className:"level-text",children:["Level ",c]}),Object(l.jsx)("div",{ref:V,className:"card-ctn",children:y.map((function(e){return Object(l.jsx)(O,{imgSrc:e.src,name:e.alt,onClick:_},e.alt)}))})]})]})]})};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(S,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.c5880459.chunk.js.map